---
import { Icon } from 'astro-icon/components';
import SocialMedia from '../../components/SocialMedia.astro';
import LayoutSec from '../../layouts/LayoutSec.astro';
const content = [
  {
    title: 'Our menu',
    link: '/en/menu',
  },
  {
    title: 'Website',
    link: '/',
  },
  {
    title: 'Instagram',
    link: 'https://www.instagram.com/taqueriaameca/',
  },
  {
    title: 'Facebook',
    link: 'https://www.facebook.com/people/Taqueria-Amecas/100073312594879/?ref=_ig_profile_ac',
  },
  {
    title: 'Tiktok',
    link: 'https://www.tiktok.com/@taqueriaamecaoficial',
  },
];
---

<LayoutSec>
  <img
    src="/share-dark.svg"
    alt="Compartir"
    class="absolute top-6 right-6 w-6 h-6 cursor-pointer share-btn"
  />
  <section
    class="w-full flex flex-col justify-center items-center gap-8 py-18 px-6 max-w-[500px]"
  >
    <div class="w-full flex flex-col justify-center items-center gap-[21px]">
      <a
        href="/"
        aria-label="Ir a la página principal"
        title="Inicio - Los Amecas"
      >
        <img
          src="/logo.webp"
          alt="Logo de Los Amecas - Restaurante y Taquería"
          width="1130"
          height="204"
          class="cursor-pointer w-[300px] h-auto"
        />
      </a>
      <div class="flex flex-col justify-center items-center">
        <h1 class="text-[24px] font-bold leading-[175%]">@losamecas</h1>
        <div
          class="flex justify-center items-center gap-[3px] mt-0.5 mb-[11px]"
        >
          <Icon name={'map'} class={'w-[9px] h-[11px] text-accent-5'} />
          <p class="text-[12px] leading-[22pxfont-medium">Orlando, Usa</p>
        </div>
        <p class="text-[16px] leading-[18px] text-center font-medium">
          Los Amecas has been dedicated to bringing you the true flavors of
          Mexico, fresh, homemade, and full of heart.
        </p>
      </div>
      <SocialMedia />
    </div>
    <div class="w-full flex flex-col justify-center items-center gap-3">
      {
        content.map((item) => (
          <a class="w-full" href={item.link}>
            <div
              class={`w-full  py-2.5 h-[47px] rounded-[10px] text-white flex justify-center items-center ${item.title === 'Our menu' ? 'animate-shake bg-accent-3' : 'bg-accent-1'}`}
            >
              <p class="text-[14px] font-bold leading-[140%]">{item.title}</p>
            </div>
          </a>
        ))
      }
      <button
        class="w-full bg-accent-3 py-2.5 h-[47px] rounded-[10px] text-white flex justify-center items-centext-[14px] font-bold leading-[140%] cursor-pointer"
        id="open-contact-panel"
      >
        Save Contact
      </button>
    </div>
    <div class="flex flex-col justify-center items-center gap-[9px] mt-10">
      <p class="text-[14px] font-normal leading-[140%] text-[#888]">
        Powered by
      </p>
      <a href="
        https://inkshapegroup.com">
        <img
          src="/footer-logo.webp"
          alt="Imagen del Footer"
          width="3745"
          height="996"
          class="w-[110px] h-[29px] cursor-pointer"
        />
      </a>
    </div>
  </section>
</LayoutSec>
<script is:inline>
  const shareButtons = document.querySelectorAll('.share-btn');
  if (shareButtons && shareButtons.length) {
    shareButtons.forEach((btn) => {
      btn.addEventListener('click', async (e) => {
        e.stopPropagation();
        const shareData = {
          title: 'Los Amecas',
          text: 'Los Amecas — auténtica comida mexicana',
          url: window.location.href,
        };

        if (navigator.share) {
          try {
            await navigator.share(shareData);
            return;
          } catch (err) {
            // user cancelled or error; fall through to clipboard fallback
            console.warn('share failed or cancelled', err);
          }
        }

        // Fallback: copy URL to clipboard and notify user
        try {
          await navigator.clipboard.writeText(window.location.href);
          // small user feedback; prefer a non-blocking toast in the future
          alert(
            'Enlace copiado al portapapeles. Pega y comparte donde quieras.'
          );
        } catch (err) {
          // last resort: open native share via mailto as a helper
          console.warn('clipboard write failed', err);
        }
      });
    });
  }
</script>
